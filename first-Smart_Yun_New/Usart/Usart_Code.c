#include "Smart_Usart.h"

uchar usartbuf[50]={0};
uchar usart2buf[8]={0};

uchar sn,checksum,usrtlen,usrt2len,usarrtflag,num_usart;
uchar send_3_config,send_7_error,send_8_dev,send_9_dev;
uchar data temper = 0x00;
uchar data humper = 0x00;
uchar num_usart_se = 0;

/* 1. wifi模组请求设备信息，mcu回复 */
uchar mcu_send_1[75]={
0xff,0xff,0x00,0x47,0x02,0x55,0x00,0x00,
0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x34,  // protocol_ver(8B)
0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x34,  // p0_ver(8B)
0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x31,  // hard_ver(8B)
0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x31,  // soft_ver(8B)
0x35,0x38,0x63,0x33,0x65,0x31,0x61,0x33, 
0x37,0x61,0x63,0x65,0x34,0x62,0x32,0x65,
0x38,0x39,0x32,0x63,0x61,0x39,0x62,0x30, 
0x33,0x37,0x62,0x33,0x39,0x36,0x32,0x37,
0x00,0x00,0x55};						  // bindable_timeout(2B) + ...												

/* 2. wifi模组与设备mcu心跳，mcu回复 */
uchar mcu_send_2[9]={0xff,0xff,0x00,0x05,0x08,0x55,0x00,0x00,0x55};

/* 3. 设备mcu通知wifi模组进入配置模式，mcu发送 */
uchar mcu_send_3_1[10]={0xff,0xff,0x00,0x06,0x09,0x00,0x00,0x00,0x01,0x10};
uchar mcu_send_3_2[10]={0xff,0xff,0x00,0x06,0x09,0x00,0x00,0x00,0x02,0x11};

/* 4. 设备mcu重置wifi，mcu发送 */
uchar mcu_send_4[9]={0xff,0xff,0x00,0x05,0x0b,0x00,0x00,0x00,0x10};

/* 5. wifi模组向设备通知工作状态变化，mcu回复 */
uchar mcu_send_5[9]={0xff,0xff,0x00,0x05,0x0e,0x55,0x00,0x00,0x55};

/* 6. wifi模组请求重启mcu，mcu回复 */
uchar mcu_send_6[9]={0xff,0xff,0x00,0x05,0x10,0x55,0x00,0x00,0x55};

/* 7. 非法消息通知，mcu回复 */
uchar mcu_send_7[10]={0xff,0xff,0x00,0x06,0x12,0x55,0x00,0x00,0x11,0x55};

/* 8. wifi模组读取设备当前状态，mcu回复 */
uchar mcu_send_8[13]={0xff,0xff,0x00,0x09,0x04,0x55,0x00,0x00,0x03,0x00,0x00,0x00,0x55};

/* 9. 设备向wifi主动上报当前状态，mcu发送 */
uchar mcu_send_9[13]={0xff,0xff,0x00,0x09,0x05,0x55,0x00,0x00,0x04,0x00,0x00,0x00,0x55};

/* 10. wifi模组控制设备，mcu回复 */
uchar mcu_send_10[9]={0xff,0xff,0x00,0x05,0x04,0x55,0x00,0x00,0x55};

/* 12. mcu通知wifi进入可绑定模式，mcu发送 */
uchar mcu_send_12[9]={0xff,0xff,0x00,0x05,0x15,0x55,0x00,0x00,0x55};
